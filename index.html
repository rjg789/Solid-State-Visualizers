<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Interactive Visualizers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Landing page for research/course interactive visualizers.">
  <!-- prevent favicon 404s -->
  <link rel="icon" href="data:,">
  <style>
    :root{
      --bg:#ffffff; --fg:#111; --muted:#666; --card:#fafafa; --border:#e6e6e6;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    header{ max-width:1000px; margin:32px auto 12px; padding:0 16px; }
    h1{ margin:0 0 6px; font-size:28px; }
    .sub{ color:var(--muted); margin:0 0 18px; }
    .toolbar{ display:flex; gap:12px; align-items:center; margin:8px 0 4px; }
    .search{ flex:1; }
    .search input{
      width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px;
      font:15px system-ui, sans-serif; outline:none;
    }
    main{ max-width:1000px; margin:0 auto 60px; padding:0 16px; }
    .grid{ display:grid; gap:16px; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 920px){ .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 600px){ .grid{ grid-template-columns: 1fr; } }
    .card{ background:var(--card); border:1px solid var(--border); border-radius:14px; padding:14px; display:flex; flex-direction:column; gap:10px; }
    .card h3{ margin:0; font-size:18px; }
    .card p{ margin:0; color:var(--muted); }
    .tags{ display:flex; flex-wrap:wrap; gap:6px; margin-top:2px; }
    .tag{ font-size:12px; color:#444; background:#f2f2f2; border:1px solid #e6e6e6; border-radius:999px; padding:2px 8px; }
    .actions{ margin-top:auto; display:flex; gap:10px; }
    .btn{ appearance:none; border:1px solid var(--border); background:#fff; color:var(--fg); padding:8px 12px; border-radius:10px; cursor:pointer; text-decoration:none; font-weight:600; }
    .btn.primary{ background:var(--fg); color:#fff; border-color:var(--fg); }
    .empty{ color:var(--muted); padding:18px; border:1px dashed var(--border); border-radius:12px; text-align:center; display:none; }
  </style>
</head>
<body>
  <header>
    <h1>Interactive Visualizers</h1>
    <p class="sub">Browser‑based demos for solid‑state / quantum materials. Click a card to open.</p>
    <div class="toolbar">
      <div class="search">
        <input id="q" type="search" placeholder="Filter by title, tags…" aria-label="Filter visualizers">
      </div>
    </div>
  </header>

  <main>
    <div id="grid" class="grid" role="list"></div>
    <div id="empty" class="empty">No matches. Try a different search.</div>
  </main>

  <script>
    // Compute absolute base path for GitHub Pages (works for user or project sites)
    const REPO = location.pathname.split('/')[1] || '';
    const BASE = REPO ? `/${REPO}/` : '/';

    // Catalog of visualizers (edit this list as you add pages)
    const visualizers = [
      {
        title: '3D NFE Fermi Surface',
        href: BASE + 'NFE_Fermi_Surface_Visualizer.html',
        tags: ['bands', 'fermi surface', 'nearly-free electron', '3D'],
        blurb: 'Nearly-free-electron band path (Γ–X–M–Γ–R) and 3D Fermi surface isosurface.'
      },
        {
        title: 'Tight Binding Wavefunctions and Bands',
        href: BASE + 'Tight_Binding_Visualizer.html',
        tags: ['bands', 'bloch waves'],
        blurb: 'Plots of real space wavefunctions and reciprocal space bands for a 1D tight binding model.'
      }
    ];

    // DOM refs
    const grid = document.getElementById('grid');
    const empty = document.getElementById('empty');
    const q = document.getElementById('q');

    function makeCard(v){
      const card = document.createElement('article');
      card.className = 'card';

      const h3 = document.createElement('h3');
      h3.textContent = v.title;
      const p = document.createElement('p');
      p.textContent = v.blurb || '';

      const tags = document.createElement('div');
      tags.className = 'tags';
      (v.tags || []).forEach(t => {
        const span = document.createElement('span');
        span.className = 'tag';
        span.textContent = t;
        tags.appendChild(span);
      });

      const actions = document.createElement('div');
      actions.className = 'actions';
      const a1 = document.createElement('a');
      a1.className = 'btn primary';
      a1.href = v.href;
      a1.textContent = 'Open';
      const a2 = document.createElement('a');
      a2.className = 'btn';
      a2.href = v.href;
      a2.target = '_blank';
      a2.rel = 'noopener';
      a2.textContent = 'Open in new tab';
      actions.append(a1, a2);

      card.append(h3, p, tags, actions);
      return card;
    }

    function render(list){
      grid.innerHTML = '';
      if (!list.length){ empty.style.display = 'block'; return; }
      empty.style.display = 'none';
      list.forEach(v => grid.appendChild(makeCard(v)));
    }

    function match(v, query){
      if (!query) return true;
      const hay = [v.title||'', v.blurb||'', (v.tags||[]).join(' ')].join(' ').toLowerCase();
      return hay.includes(query.toLowerCase());
    }

    q.addEventListener('input', () => {
      const term = q.value.trim();
      render(visualizers.filter(v => match(v, term)));
    });

    render(visualizers);
  </script>
</body>
</html>
